<h2><%= __("samples") %></h2>

<div id="content">
    <div class="row">
        <div class="col-sm-12">
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th><%= __("biobank") %></th>
                            <th><%= __("arrival-code") %></th>
                            <th><%= __("biobank-code") %></th>
                            <th><%= __("type") %></th>
                            <th><%= __("donor") %></th>
                            <th><%= __("diagnosis") %></th>
                            <th><%= __("anatomical-position")%></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    <% _.each(samples, function(sample) {
                    var metadata = sample.get("metadata") %>
                    <tr>
                        <td><%= sample.get("biobank") && sample.get("biobank").acronym %></td>
                        <td><%= metadata.arrival_code && metadata.arrival_code.value %></td>
                        <td><%= sample.get("biobankCode") %></td>
                        <td><%= sample.get("type").name %></td>
                        <td><%= sample.get("donor") && sample.get("donor").code %></td>
                        <td><%= metadata.pathology &&  metadata.pathology.value %></td>
                        <td><%= metadata.sample_codification && metadata.sample_codification.value %></td>
                        <td>
                          <% var privilege = dataTypePrivileges.find(function(model) {
                            return model.get('dataType') === sample.get("type").id; });
                           if(privilege.get("privilegeLevel") === "edit" ){ %>
                            <a class="btn" href="<%= sample.get("editLink") %>"><%=__("edit") %></a>
                            <%} %>
                            <% if (sample.get("newDerivativeLink") && sample.get("newDerivativeLink").length > 0) {%>
                            <a class="btn" href="<%= sample.get("newDerivativeLink") %>"><%=__("new-derivative-sample") %></a>
                            <%} %>
                            <% if (sample.get("newDataLink") && sample.get("newDataLink").length > 0) {%>
                            <a class="btn" href="<%= sample.get("newDataLink") %>"><%= __("new-data") %></a>
                            <%} %>
                        </td>
                    </tr>
                    <% }) %>
                    </tbody>
                </table>
            </div>
            <div id="buttonbardiv" class="row text-center">
                <a href="" id="newSample" class="btn btn-primary"><%= __("new-sample")%></a>
            </div>
        </div>
    </div>
</div>
